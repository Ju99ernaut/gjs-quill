{"version":3,"file":"index.js","mappings":"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","sources":["webpack://gjs-quill/webpack/universalModuleDefinition","webpack://gjs-quill/webpack/bootstrap","webpack://gjs-quill/webpack/runtime/define property getters","webpack://gjs-quill/webpack/runtime/hasOwnProperty shorthand","webpack://gjs-quill/webpack/runtime/make namespace object","webpack://gjs-quill/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://gjs-quill/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://gjs-quill/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://gjs-quill/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://gjs-quill/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://gjs-quill/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://gjs-quill/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://gjs-quill/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://gjs-quill/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://gjs-quill/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://gjs-quill/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://gjs-quill/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://gjs-quill/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://gjs-quill/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://gjs-quill/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://gjs-quill/./node_modules/@babel/runtime/helpers/esm/toArray.js","webpack://gjs-quill/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://gjs-quill/./src/clipboard.js","webpack://gjs-quill/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"gjs-quill\"] = factory();\n\telse\n\t\troot[\"gjs-quill\"] = factory();\n})(typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : this), () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default (editor, opts = {}) => {\r\n    editor.on('load', () => {\r\n        const w = editor.Canvas.getWindow();\r\n\r\n        const Clipboard = w.Quill.import('modules/clipboard');\r\n        const TextBlot = w.Quill.import('blots/text');\r\n        const Delta = w.Quill.import('delta');\r\n\r\n        function escapeText(text) {\r\n            return text.replace(/[&<>\"']/g, s => {\r\n                // https://lodash.com/docs#escape\r\n                const entityMap = {\r\n                    '&': '&amp;',\r\n                    '<': '&lt;',\r\n                    '>': '&gt;',\r\n                    '\"': '&quot;',\r\n                    \"'\": '&#39;',\r\n                };\r\n                return entityMap[s];\r\n            });\r\n        }\r\n\r\n        function deleteRange({ quill, range }) {\r\n            const lines = quill.getLines(range);\r\n            let formats = {};\r\n            if (lines.length > 1) {\r\n                const firstFormats = lines[0].formats();\r\n                const lastFormats = lines[lines.length - 1].formats();\r\n                formats = Delta.AttributeMap.diff(lastFormats, firstFormats) | {};\r\n            }\r\n            quill.deleteText(range, w.Quill.sources.USER);\r\n            if (Object.keys(formats).length > 0) {\r\n                quill.formatLine(range.index, 1, formats, w.Quill.sources.USER);\r\n            }\r\n            quill.setSelection(range.index, w.Quill.sources.SILENT);\r\n        }\r\n\r\n        function getListType(type) {\r\n            const tag = type === 'ordered' ? 'ol' : 'ul';\r\n            switch (type) {\r\n                case 'checked':\r\n                    return [tag, ' data-list=\"checked\"'];\r\n                case 'unchecked':\r\n                    return [tag, ' data-list=\"unchecked\"'];\r\n                default:\r\n                    return [tag, ''];\r\n            }\r\n        }\r\n\r\n        function convertListHTML(items, lastIndent, types) {\r\n            if (items.length === 0) {\r\n                const [endTag] = getListType(types.pop());\r\n                if (lastIndent <= 0) {\r\n                    return `</li></${endTag}>`;\r\n                }\r\n                return `</li></${endTag}>${convertListHTML([], lastIndent - 1, types)}`;\r\n            }\r\n            const [{ child, offset, length, indent, type }, ...rest] = items;\r\n            const [tag, attribute] = getListType(type);\r\n            if (indent > lastIndent) {\r\n                types.push(type);\r\n                if (indent === lastIndent + 1) {\r\n                    return `<${tag}><li${attribute}>${convertHTML(\r\n                        child,\r\n                        offset,\r\n                        length,\r\n                    )}${convertListHTML(rest, indent, types)}`;\r\n                }\r\n                return `<${tag}><li>${convertListHTML(items, lastIndent + 1, types)}`;\r\n            }\r\n            const previousType = types[types.length - 1];\r\n            if (indent === lastIndent && type === previousType) {\r\n                return `</li><li${attribute}>${convertHTML(\r\n                    child,\r\n                    offset,\r\n                    length,\r\n                )}${convertListHTML(rest, indent, types)}`;\r\n            }\r\n            const [endTag] = getListType(types.pop());\r\n            return `</li></${endTag}>${convertListHTML(items, lastIndent - 1, types)}`;\r\n        }\r\n\r\n        function convertHTML(blot, index, length, isRoot = false) {\r\n            if (typeof blot.html === 'function') {\r\n                return blot.html(index, length);\r\n            }\r\n            if (blot instanceof TextBlot) {\r\n                return escapeText(blot.value().slice(index, index + length));\r\n            }\r\n            if (blot.children) {\r\n                // TODO fix API\r\n                if (blot.statics.blotName === 'list-container') {\r\n                    const items = [];\r\n                    blot.children.forEachAt(index, length, (child, offset, childLength) => {\r\n                        const formats = child.formats();\r\n                        items.push({\r\n                            child,\r\n                            offset,\r\n                            length: childLength,\r\n                            indent: formats.indent || 0,\r\n                            type: formats.list,\r\n                        });\r\n                    });\r\n                    return convertListHTML(items, -1, []);\r\n                }\r\n                const parts = [];\r\n                blot.children.forEachAt(index, length, (child, offset, childLength) => {\r\n                    parts.push(convertHTML(child, offset, childLength));\r\n                });\r\n                if (isRoot || blot.statics.blotName === 'list') {\r\n                    return parts.join('');\r\n                }\r\n                const { outerHTML, innerHTML } = blot.domNode;\r\n                const [start, end] = outerHTML.split(`>${innerHTML}<`);\r\n                // TODO cleanup\r\n                if (start === '<table') {\r\n                    return `<table style=\"border: 1px solid #000;\">${parts.join('')}<${end}`;\r\n                }\r\n                return `${start}>${parts.join('')}<${end}`;\r\n            }\r\n            return blot.domNode.outerHTML;\r\n        }\r\n\r\n        class GrapesClipboard extends Clipboard {\r\n            constructor(quill, options) {\r\n                super(quill, options);\r\n                this.quill.root.addEventListener('copy', e => this.onCaptureCopy(e, false));\r\n                this.quill.root.addEventListener('cut', e => this.onCaptureCopy(e, true));\r\n                this.quill.root.removeEventListener('paste', this.onPaste.bind(this));\r\n                this.quill.root.addEventListener('paste', this.onCapturePaste.bind(this));\r\n            }\r\n\r\n            onCaptureCopy(e, isCut = false) {\r\n                if (e.defaultPrevented) return;\r\n                e.preventDefault();\r\n                const [range] = this.quill.selection.getRange();\r\n                if (range == null) return;\r\n                const { html, text } = this.onCopy(range);\r\n                e.clipboardData.setData('text/plain', text);\r\n                e.clipboardData.setData('text/html', html);\r\n                if (isCut) {\r\n                    deleteRange({ range, quill: this.quill });\r\n                }\r\n            }\r\n\r\n            onCapturePaste(e) {\r\n                if (e.defaultPrevented || !this.quill.isEnabled()) return;\r\n                e.preventDefault();\r\n                const range = this.quill.getSelection(true);\r\n                if (range == null) return;\r\n                const html = e.clipboardData.getData('text/html');\r\n                const text = e.clipboardData.getData('text/plain');\r\n                const files = Array.from(e.clipboardData.files || []);\r\n                if (!html && files.length > 0) {\r\n                    this.quill.uploader.upload(range, files);\r\n                    return;\r\n                }\r\n                if (html && files.length > 0) {\r\n                    const doc = new DOMParser().parseFromString(html, 'text/html');\r\n                    if (\r\n                        doc.body.childElementCount === 1 &&\r\n                        doc.body.firstElementChild.tagName === 'IMG'\r\n                    ) {\r\n                        this.quill.uploader.upload(range, files);\r\n                        return;\r\n                    }\r\n                }\r\n                this.onGjsPaste(range, { html, text });\r\n            }\r\n\r\n            onCopy(range) {\r\n                const text = this.quill.getText(range);\r\n                const html = this.getHTML(range.index, range.length);\r\n                return { html, text };\r\n            }\r\n\r\n            getHTML(index, length) {\r\n                const [line, lineOffset] = this.quill.editor.scroll.line(index);\r\n                if (line.length() >= lineOffset + length) {\r\n                    return convertHTML(line, lineOffset, length, true);\r\n                }\r\n                return convertHTML(this.quill.editor.scroll, lineOffset, length, true);\r\n            }\r\n\r\n            onGjsPaste(range, { text, html }) {\r\n                // const formats = this.quill.getFormat(range.index);\r\n                const pastedDelta = this.convert(html);// { text, html }, formats);\r\n                //editor.log('onPaste', pastedDelta, { text, html });\r\n                const delta = new Delta()\r\n                    .retain(range.index)\r\n                    .delete(range.length)\r\n                    .concat(pastedDelta);\r\n                this.quill.updateContents(delta, w.Quill.sources.USER);\r\n                // range.length contributes to delta.length()\r\n                this.quill.setSelection(\r\n                    delta.length() - range.length,\r\n                    w.Quill.sources.SILENT,\r\n                );\r\n                this.quill.scrollIntoView();\r\n            }\r\n        }\r\n\r\n        w.Quill.register('modules/clipboard', GrapesClipboard, true);\r\n    });\r\n}","import clipboard from './clipboard';\n\nexport default (editor, opts = {}) => {\n  const options = {\n    ...{\n      // Quill's options\n      quillOpts: {},\n      // Use custom clipboard\n      clipboard: true,\n    },\n    ...opts\n  };\n\n  // Register clipboard\n  options.clipboard && clipboard(editor, options);\n\n  editor.setCustomRte({\n    enable(el, rte) {\n      // If RTE already exists destroy it\n      if (rte && !rte.destroyed) {\n        rte.destroy(el);\n      }\n\n      const rteToolbar = editor.RichTextEditor.getToolbarEl();\n      [].forEach.call(rteToolbar.children, (child) => {\n        child.style.display = 'none';\n      });\n\n      const w = editor.Canvas.getWindow();\n\n      rte = new w.Quill(el, {\n        theme: 'bubble',\n        scrollContainer: 'div[data-gjs-type=wrapper]',\n        ...options.quillOpts\n      });\n\n      // Get quill editor contents\n      rte.getContent = function () {\n        return `<div class=\"ql-editor\">${rte.root.innerHTML}</div>`;\n      }\n\n      // Create deconstructor\n      rte.destroy = function (el) {\n        for (const [key] of Object.entries(this)) {\n          delete this[key];\n        }\n        rte.destroyed = true;\n      }\n\n      this.focus(el, rte);\n\n      return rte;\n    },\n\n    disable(el, rte) {\n      rte && rte.blur();\n    },\n\n    focus(el, rte) {\n      if (rte && rte.hasFocus()) {\n        return;\n      }\n      rte && rte.focus();\n    }\n  });\n};"],"names":["root","factory","exports","module","define","amd","globalThis","window","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","_arrayWithHoles","arr","Array","isArray","_arrayLikeToArray","len","length","i","arr2","_unsupportedIterableToArray","minLen","n","toString","slice","constructor","name","from","test","_nonIterableRest","TypeError","_slicedToArray","_i","iterator","_s","_e","_arr","_n","_d","next","done","push","err","_defineProperty","configurable","writable","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","_createClass","protoProps","staticProps","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_inherits","subClass","superClass","create","_typeof","_possibleConstructorReturn","_getPrototypeOf","getPrototypeOf","_toArray","iter","editor","on","w","Canvas","getWindow","Clipboard","Quill","import","TextBlot","Delta","escapeText","text","replace","s","deleteRange","quill","range","lines","getLines","formats","firstFormats","lastFormats","AttributeMap","diff","deleteText","sources","USER","keys","formatLine","index","setSelection","SILENT","getListType","type","tag","convertListHTML","items","lastIndent","types","endTag","pop","child","offset","indent","rest","attribute","convertHTML","previousType","blot","isRoot","html","children","statics","blotName","forEachAt","childLength","list","parts","join","domNode","outerHTML","innerHTML","split","start","end","GrapesClipboard","options","addEventListener","e","onCaptureCopy","removeEventListener","onPaste","onCapturePaste","isCut","defaultPrevented","preventDefault","selection","getRange","onCopy","clipboardData","setData","isEnabled","getSelection","getData","files","uploader","upload","doc","DOMParser","parseFromString","body","childElementCount","firstElementChild","tagName","onGjsPaste","getText","getHTML","scroll","line","lineOffset","pastedDelta","convert","delta","retain","delete","concat","updateContents","scrollIntoView","register","opts","quillOpts","clipboard","setCustomRte","enable","el","rte","destroyed","destroy","rteToolbar","RichTextEditor","getToolbarEl","forEach","style","display","theme","scrollContainer","getContent","entries","focus","disable","blur","hasFocus"],"sourceRoot":""}